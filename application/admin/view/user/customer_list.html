
            {include file="public/header" /}
            <!--body wrapper start-->
            <div class="wrapper">

                <div class="row">
                        
                    <div class="col-sm-12">
                        
                        <section class="panel">
                            <div class="x_title panel-heading">
                                <div class="" style="overflow: auto">
                                    <div  style="float: left;">
                                        <form class="form-inline form-search" role="form" method="get">
                                            <div class="form-group">
                                                <label for="">Search:</label>
                                                <input type="text" name="search" placeholder="name"" value="{$search}">
                                            </div>
                                            <button type="submit" class="btn btn-default">submit</button>
                                            <button type="reset" class="btn btn-default">clear</button>
                                        </form>
                                    </div>
                                    <button style="float: right" type="button" class="btn btn-default btn-md" id="addRoleModal">
                                            {:lang('new_users')}
                                    </button>
                                </div>
                            </div>
                            <!-- <header class="panel-heading ">
                                Convertable Data Table
                                <span class="tools pull-right">
                                    <a class="fa fa-repeat box-refresh" href="javascript:;"></a>
                                    <a class="t-close fa fa-times" href="javascript:;"></a>
                                </span>
                            </header> -->
                        <table class="table datatable-ajax data-table">
                        <thead>
                        <tr>
                            <th>
                                id
                            </th>
                            <th>
                                {:lang('username')}
                            </th>
                            <th>
                                {:lang('email')}
                            </th>
                            <th>
                                addtime
                            </th>
                            <th>
                                {:lang('operating')}
                            </th>
                            
                        </tr>
                        </thead>
                        <tbody>
                           
                        </tbody>
                        </table>
                        </section>
                    </div>

                </div>
                

            </div>
            <!--body wrapper end-->


            <div class="modal fade" id="addUsermyModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">  
                <div class="modal-dialog" role="document">  
                    <div class="modal-content">  
                        <div class="modal-header">  
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">  
                                <span aria-hidden="true">Ã—</span>  
                            </button>  
                            <h4 class="modal-title" id="myModalLabel">{:lang('new_users')}</h4>  
                        </div>  
                        <div class="modal-body">  
                            <div class="form-group"> 
                                <input type="hidden" class="form-control user_id" id="recipient-name"> 
                                <label for="recipient-name" class="control-label">{:lang('username')}:</label>  
                                <input type="text" class="form-control user_name" id="recipient-name">  
                            </div>
                            <div class="form-group">  
                                <label for="email" class="control-label">{:lang('email')}:</label>
                                <input type="text" class="form-control email" id="new_password">
                            </div>
                            <div class="form-group">  
                                <label for="email" class="control-label">{:lang('password')}:</label>
                                <input type="password" class="form-control password" id="new_password">
                            </div>
                        </div>  
                        <div class="modal-footer">  
                            <button type="button" class="btn btn-default" data-dismiss="modal">{:lang('cancel')}</button>  
                            <button type="button" class="btn btn-primary submit">{:lang('submit')}</button>  
                        </div>  
                    </div>  
                </div>  
            </div>  

        </div>
        <!-- body content end-->
    </section>
    <script>
            
            $('#addRoleModal').on('click', function () {
                $('#addUsermyModal').modal();
            })
            $('.submit').on('click',function(){
                var user_name = $('.user_name').val();
                var email = $('.email').val();
                var password = $('.password').val();
                var id = $('.user_id').val();
                $.ajax({
                    type : 'post',
                    url : "{:url('User/user_add')}",
                    data : {id:id,user_name:user_name,email:email,password:password},
                    success:function(data){
                        if(data.status == 1){
                            toastr.success(data.message);
                            window.location.reload();
                            $('#addUsermyModal').modal('hide')
                        }else{
                            toastr.error(data.message);
                        }
                    }
                })
            })
            function user_edit(id){
                $('#addUsermyModal').modal();
                $.ajax({
                    type : 'get',
                    url : "{:url('User/user_edit')}?id="+id,
                    success:function(data){
                        $('.user_name').val(data.user_name);
                        $('.email').val(data.email);
                        $('.user_id').val(data.id);
                    }
                })
            }
        </script>
    {include file="public/footer" /}
